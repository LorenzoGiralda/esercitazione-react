{"ast":null,"code":"import{useState,useEffect,useCallback}from\"react\";import style from'./DatiFetch.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DatiFetch=()=>{const[stateCocktail,changeStateCocktail]=useState([]);const[stateCaricamento,changeCaricamento]=useState('');const[stateInput,changeInput]=useState();const fetchCocktail=useCallback(async()=>{changeCaricamento('Caricamento in corso');const response=await fetch('https://thecocktaildb.com/api/json/v1/1/filter.php?c=Cocktail');if(!response.ok){//..  \nconsole.log('error');}else{const data=await response.json();changeStateCocktail(data.drinks.slice(0,12));// console.log(data.results)\n//console.log(data.drinks[0].strDrinkThumb)\n}changeCaricamento('');},[]);useEffect(()=>{fetchCocktail();},[fetchCocktail]);const filtraInput=event=>{changeInput(event.target.value.toLowerCase());console.log(stateInput);};let testoNoResult='';let filtraCocktail=stateCocktail;const filter=stateCocktail.filter(cocktail=>cocktail.strDrink.toLowerCase().includes(stateInput));if(stateInput!==undefined&&filter.length>0){filtraCocktail=filter;}else if(stateInput!==undefined&&filter.length===0){testoNoResult='nessun risultato trovato';filtraCocktail=[];}else{filtraCocktail=stateCocktail;}return/*#__PURE__*/_jsx(\"div\",{style:{'background':'rgb(241, 241, 241)'},children:/*#__PURE__*/_jsxs(\"div\",{className:style.container,children:[/*#__PURE__*/_jsxs(\"h2\",{style:{'marginTop':'30px','width':'100%'},children:[\"CARICAMENTO e FILTRO DATI API cocktail \",/*#__PURE__*/_jsx(\"br\",{}),\" con http request - useEffect e useState\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{'width':'100%','margin':'20px 10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:fetchCocktail,children:\"Carica cocktail list\"}),stateCocktail!==undefined?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{'marginTop':'20px'},children:\"Filtra per nome\"}),/*#__PURE__*/_jsx(\"input\",{onChange:filtraInput,type:\"text\"})]}):'',/*#__PURE__*/_jsx(\"p\",{children:stateCaricamento}),/*#__PURE__*/_jsx(\"div\",{})]}),filtraCocktail.map(cocktail=>/*#__PURE__*/_jsx(\"div\",{className:style.containerCard,children:/*#__PURE__*/_jsxs(\"div\",{className:style.card,children:[/*#__PURE__*/_jsx(\"h3\",{children:cocktail.strDrink}),/*#__PURE__*/_jsx(\"div\",{style:{'marginBottom':'10px'},children:/*#__PURE__*/_jsx(\"img\",{src:cocktail.strDrinkThumb,alt:\"cocktail\"})})]})},cocktail.idDrink)),/*#__PURE__*/_jsx(\"p\",{style:{'width':'100%'},children:testoNoResult})]})});};export default DatiFetch;","map":{"version":3,"names":["useState","useEffect","useCallback","style","jsx","_jsx","jsxs","_jsxs","DatiFetch","stateCocktail","changeStateCocktail","stateCaricamento","changeCaricamento","stateInput","changeInput","fetchCocktail","response","fetch","ok","console","log","data","json","drinks","slice","filtraInput","event","target","value","toLowerCase","testoNoResult","filtraCocktail","filter","cocktail","strDrink","includes","undefined","length","children","className","container","onClick","onChange","type","map","containerCard","card","src","strDrinkThumb","alt","idDrink"],"sources":["/Users/doni/Desktop/front end intensivo/REACT/esercitazione-react/src/components/DatiFetch.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\nimport style from './DatiFetch.module.css'\n\nconst DatiFetch = () => {\n\nconst [stateCocktail, changeStateCocktail] =  useState([])\nconst [stateCaricamento, changeCaricamento] = useState('')\nconst [stateInput, changeInput] = useState()\n\n\nconst fetchCocktail = useCallback(async() => {\nchangeCaricamento('Caricamento in corso')\nconst response = await fetch('https://thecocktaildb.com/api/json/v1/1/filter.php?c=Cocktail')\nif(!response.ok){\n//..  \nconsole.log('error') \n}else{\n\nconst data = await response.json()\n\nchangeStateCocktail(data.drinks.slice(0,12))\n\n// console.log(data.results)\n//console.log(data.drinks[0].strDrinkThumb)\n}\nchangeCaricamento('')\n},[])\n \n \nuseEffect(() => {\nfetchCocktail()\n },[fetchCocktail])\n\n\nconst filtraInput = (event) => {\nchangeInput(event.target.value.toLowerCase())\nconsole.log(stateInput)\n}\n\n\nlet testoNoResult = ''\nlet filtraCocktail = stateCocktail\nconst filter = stateCocktail.filter(cocktail => cocktail.strDrink.toLowerCase().includes(stateInput))\n\nif(stateInput !== undefined && filter.length > 0 ){\nfiltraCocktail = filter\n}else if(stateInput !== undefined && filter.length === 0){\ntestoNoResult = 'nessun risultato trovato'\nfiltraCocktail = []\n}else{\nfiltraCocktail = stateCocktail    \n}\n\n\n\n\nreturn(\n<div style={{'background': 'rgb(241, 241, 241)'}}>\n<div className={style.container}>\n<h2 style={{'marginTop': '30px', 'width': '100%'}}>\nCARICAMENTO e FILTRO DATI API cocktail <br></br> con http request - useEffect e useState</h2>\n<div style={{'width':'100%', 'margin': '20px 10px'}}>\n<button onClick={fetchCocktail}>Carica cocktail list</button>\n{stateCocktail !== undefined ?\n<div>\n<h3 style={{'marginTop': '20px'}}>Filtra per nome</h3>\n<input onChange={filtraInput} type=\"text\"></input>    \n</div> : '' \n}\n<p>{stateCaricamento}</p>\n<div>   \n</div>\n</div> \n\n{filtraCocktail.map( cocktail =>\n<div key={cocktail.idDrink} className={style.containerCard}>\n<div className={style.card}>\n<h3>{cocktail.strDrink}</h3> \n<div style={{'marginBottom': '10px'}}>\n<img src={cocktail.strDrinkThumb} alt=\"cocktail\"></img> \n</div> \n</div>\n</div>\n)}  \n<p style={{'width': '100%'}}>{testoNoResult}</p>\n</div>\n</div>\n)};\n\nexport default DatiFetch;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}